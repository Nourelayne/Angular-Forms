<div class="container">

    <h2>User Settings</h2>

    <form #form="ngForm" (ngSubmit)="onSubmit(form)">

      <div class="form-group">

          <label for="name">Name</label> 

          <input id="name" name="name" class="form-control" [(ngModel)]="userSettings.name" type="text" #nameField="ngModel" required
            [class.field-error]="form.submitted && nameField.invalid" />
            
          <div [hidden]="!form.submitted || nameField.valid" class="alert alert-danger"> Enter a name </div>

      </div>

      <div class="form-check">

          <input id="emailOffers" name="emailOffers" type="checkbox" class="form-check-input"
            [(ngModel)]="userSettings.emailOffers" />

          <label class="form-check-label" for="emailOffers">Email Special Offers</label>

      </div>

      <p>User Interface</p>

      <div class="form-group">

          <div class="form-check">

                  <input type="radio" name="interface" id="lightInterface" value="light" checked class="form-check-input"
                    [(ngModel)]="userSettings.interfaceStyle" />

                  <label for="lightInterface" class="form-check-label">Light</label>

            </div>

            <div class="form-check">

                  <input type="radio" name="interface" id="mediumInterface" value="medium" checked class="form-check-input"
                    [(ngModel)]="userSettings.interfaceStyle" />

                  <label for="mediumInterface" class="form-check-label">Medium</label>

            </div>

            <div class="form-check">

                  <input type="radio" name="interface" id="darkInterface" value="dark" checked class="form-check-input"
                    [(ngModel)]="userSettings.interfaceStyle" />

                  <label for="mediumInterface" class="form-check-label">Dark</label>

            </div>

      </div>

      <div class="form-group">

            <label for="subscriptionType">Subscription Type</label>

            <select id="subscriptionType" name="subscriptionType" class="form-control"
              [(ngModel)]="userSettings.subscriptionType">
                      <option *ngFor = "let type of subscriptionTypes | async"> {{ type }}</option>
            </select>

      </div>

      <div class="form-group">

            <label for="notes">Notes</label>

            <textarea name="notes" id="notes" class="form-control" rows="3" [(ngModel)]="userSettings.notes"></textarea>

      </div>

      <div [hidden] = "!postError" class = "alert alert-danger"> 
              {{ postErrorMessage }}
      </div>

      <button class="btn btn-primary">Ok</button>

    </form>

</div>

{{form.value | json}}